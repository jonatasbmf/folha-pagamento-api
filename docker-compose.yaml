    version: '3.5'
    
    services:
      postgres:
        image: postgres:latest
        environment:
          POSTGRES_USER: ${DB_USERNAME}
          POSTGRES_PASSWORD: ${DB_PASSWORD}
          POSTGRES_DB: ${DB_NAME}
        volumes:
          - postgres:/var/lib/postgresql/data
        ports:
          - "6432:5432"
        networks:
          - postgres
        restart: unless-stopped

      folhapagamento-api:
        build: 
          context: .
          dockerfile: Dockerfile
        ports:
          - 3030:3030
        depends_on:
          - postgres
        environment:
          - AMBIENTE=dev
        networks:
          - postgres
    
      # pgadmin:
      #   image: dpage/pgadmin4
      #   environment:
      #     PGADMIN_DEFAULT_EMAIL: ${DB_ADMIN_EMAIL}
      #     PGADMIN_DEFAULT_PASSWORD: ${DB_PASSWORD}
      #   ports:
      #     - "8081:80"
      #   depends_on:
      #     - postgres
      #   networks:
      #     - postgres
    
    networks:
      postgres:
        driver: bridge
    
    volumes:
        postgres:

### docker-compose up -d 
### Com comando acima executamos esse arquivo e subimos o banco e o pgadmin